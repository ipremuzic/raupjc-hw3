@using System.Globalization
@model Zad2.Models.TodoViewModel

<b>
    @Model.Text 
    @if (!Model.DateCompleted.HasValue)
    {
        if (Model.DateDue != null)
        {
            if (Model.DaysLeft() < 0)
            {
                <span style="color:red">(Trebalo je biti obavljeno prije @Model.DaysLeft().ToString().Substring(1) dana!)</span>
            }
            else if (Model.DaysLeft() == 1)     
            {
                 <span style="color:red">(za @Model.DaysLeft() dan!)</span>
             }
             else
             {
                 <span style="color:red">(za @Model.DaysLeft() dana!)</span>
             }
         }
    }
    
</b>
<br />
@if (Model.DateCompleted.HasValue)
{
    @Model.DateCompleted.Value.ToString("dd. MMMM yyyy.", new CultureInfo("hr-HR"))
    <br />
    <a asp-action="RemoveFromCompleted" asp-route-Id="@Model.Id">Remove from completed</a>
}
else
{
    if (Model.DateDue != null)
    {
         @Model.DateDue.Value.ToString("dd. MMMM yyyy.", new CultureInfo("hr-HR"))
     }
     else
     {
         <span>Datum je neodređen!</span>
    }
    <br />
    <a asp-action="MarkAsCompleted" asp-route-Id="@Model.Id">Mark as completed</a>
}
<br />
<br />
<br />


